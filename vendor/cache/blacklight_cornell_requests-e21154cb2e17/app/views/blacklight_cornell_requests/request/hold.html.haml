-title = the_vernaculator('title_display', 'title_vern_display')
-subtitle = the_vernaculator('subtitle_display', 'subtitle_vern_display')
-responsibility = render_document_show_field_value :document => @document, :field => 'title_responsibility_display'
- @selected_volume = params[:volume]
-d30 = 30.day.from_now
-d60 = 60.day.from_now
-d180 = 180.day.from_now
= link_to catalog_path(@id), {:title => @ti} do
  %i.icon-circle-arrow-left
  Back to item
%h1.request-type Request a hold
%div.row
  %div.span8.well
    %h2.item-title-request.blacklight-title_display=title
    %div.request-author=responsibility
    %form#req.form-horizontal{:method => 'post', :action => make_voyager_request_path}
      -if @volumes.present?
        .control-group
          %label.control-label{:for => "volume-selection"} 
            Current Volume: 
          .controls.delivery-estimate
            = render :partial =>'shared/volume_select'
      %input(type="hidden" name="bid" value="#{@id}" id="bid")
      %input(type="hidden" name="request_action" value="hold" id="request_action")
      = render :partial => 'shared/reqac'
      = render :partial => 'shared/reqpu'
      .control-group
        %label.control-label{:for => 'reqcomments'} Notes to library staff:
        .controls
          %textarea#reqcomments{:name => 'reqcomments'}
      .control-group
        %label.control-label{:for => 'latest-date'} If item remains unavailable, cancel hold after:
        #latest-date.controls
          %label.radio{ :for => "30 days"}
            %input(type="radio" name="latest-date" value="#{d30.strftime("%Y-%m-%d")}" id="30 days")
            30 days (#{d30.strftime("%m-%d-%Y")})
          %label.radio{ :for => "60 days"}
            %input(type="radio" name="latest-date" value="#{d60.strftime("%Y-%m-%d")}" id="60 days")
            60 days (#{d60.strftime("%m-%d-%Y")})
          %label.radio{ :for => "180 days"}
            %input(type="radio" name="latest-date" value="#{d180.strftime("%Y-%m-%d")}" id="180 days")
            180 days (#{d180.strftime("%m-%d-%Y")})
      .control-group
        %label.control-label Delivery time:
        .controls.delivery-estimate
          Approximately
          =@estimate
          days
      .control-group
        .controls.clearfix
          %input#request-submit.btn.btn-danger.pull-left(type="submit" name="submit" value="Submit hold request")
          %div.accordion-heading.request-options.form-alternative-action.pull-left
            or
            =link_to 'Other options', '#collapseOne', {:data => {:toggle => 'collapse', :parent => '#accordion2'}}
        .controls
          %div.accordion#accordion2.request-options.form-alternative-action
            %div#collapseOne.accordion-body.collapse
              %div.accordion-inner
                %div.span4
                  A hold is your fastest option and will take approximately
                  =@estimate
                  days. Your other request options are listed below.
                  = render :partial => 'shared/request_options'
  -## Used to display working status and result of request via Ajax
  #result
